<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ’¡ çµæ„Ÿåº“ - åˆ›ä½œçµæ„Ÿç®¡ç†</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    * { font-family: 'Noto Sans SC', sans-serif; }
    .card-enter { animation: slideIn 0.3s ease-out; }
    @keyframes slideIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="bg-gradient-to-br from-violet-50 to-pink-50 min-h-screen">
  <div id="app" class="container mx-auto px-4 py-8 max-w-6xl">
    <!-- å¤´éƒ¨ -->
    <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4">
      <div>
        <h1 class="text-3xl font-bold text-gray-800 flex items-center gap-2">
          <span class="text-4xl">ğŸ’¡</span> çµæ„Ÿåº“
        </h1>
        <p class="text-gray-500 mt-1">è®°å½•åˆ›ä½œçµæ„Ÿï¼ŒAI è¾…åŠ©åˆ›ä½œå»ºè®®</p>
      </div>
      <button onclick="openModal()" class="flex items-center gap-2 bg-gradient-to-r from-violet-500 to-pink-500 text-white px-6 py-3 rounded-xl font-medium hover:shadow-lg transition-all cursor-pointer">
        <span>â•</span> æ·»åŠ çµæ„Ÿ
      </button>
    </div>

    <!-- ç»Ÿè®¡ -->
    <div class="grid grid-cols-3 gap-4 mb-6">
      <div class="bg-white rounded-xl p-4 shadow-sm">
        <div class="text-3xl font-bold text-gray-800" id="stat-total">0</div>
        <div class="text-gray-500 text-sm">æ€»çµæ„Ÿ</div>
      </div>
      <div class="bg-white rounded-xl p-4 shadow-sm">
        <div class="text-3xl font-bold text-orange-500" id="stat-pending">0</div>
        <div class="text-gray-500 text-sm">å¾…åˆ›ä½œ</div>
      </div>
      <div class="bg-white rounded-xl p-4 shadow-sm">
        <div class="text-3xl font-bold text-green-500" id="stat-done">0</div>
        <div class="text-gray-500 text-sm">å·²å‘å¸ƒ</div>
      </div>
    </div>

    <!-- æœç´¢å’Œç­›é€‰ -->
    <div class="bg-white rounded-xl p-4 shadow-sm mb-6">
      <div class="flex flex-col md:flex-row gap-4">
        <div class="flex-1 relative">
          <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400">ğŸ”</span>
          <input type="text" id="search" placeholder="æœç´¢çµæ„Ÿ..." oninput="renderList()" 
            class="w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500">
        </div>
      </div>
      
      <div class="flex flex-wrap gap-2 mt-4" id="filters">
        <!-- ç­›é€‰å™¨ä¼šåŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>

    <!-- çµæ„Ÿåˆ—è¡¨ -->
    <div id="list" class="grid gap-4"></div>

    <!-- æ•°æ®ç®¡ç† -->
    <div class="mt-8 p-4 bg-gray-50 rounded-xl">
      <div class="flex flex-wrap gap-4 justify-between items-center">
        <span class="text-sm text-gray-500">ğŸ’¾ æ•°æ®å·²ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°</span>
        <div class="flex gap-2">
          <button onclick="exportData()" class="px-4 py-2 text-sm bg-white border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">å¯¼å‡ºæ•°æ®</button>
          <button onclick="importData()" class="px-4 py-2 text-sm bg-white border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">å¯¼å…¥æ•°æ®</button>
          <input type="file" id="import-file" accept=".json" style="display:none" onchange="handleImport(event)">
        </div>
      </div>
    </div>
  </div>

  <!-- å¼¹çª— -->
  <div id="modal" class="fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 hidden">
    <div class="bg-white rounded-2xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto">
      <h2 class="text-xl font-bold mb-4">æ·»åŠ æ–°çµæ„Ÿ</h2>
      
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">çµæ„Ÿå†…å®¹</label>
          <textarea id="new-content" rows="3" placeholder="æè¿°ä½ çš„åˆ›ä½œçµæ„Ÿ..." 
            class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-violet-500"></textarea>
        </div>
        
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">å¹³å°</label>
            <select id="new-platform" class="w-full px-4 py-2 border border-gray-200 rounded-xl">
              <option value="å°çº¢ä¹¦">å°çº¢ä¹¦</option>
              <option value="å¾®ä¿¡">å¾®ä¿¡</option>
              <option value="å¾®åš">å¾®åš</option>
              <option value="å³åˆ»">å³åˆ»</option>
              <option value="Bç«™">Bç«™</option>
              <option value="å…¶ä»–">å…¶ä»–</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">ç±»å‹</label>
            <select id="new-type" class="w-full px-4 py-2 border border-gray-200 rounded-xl">
              <option value="æ–‡å­—">æ–‡å­—</option>
              <option value="è§†é¢‘">è§†é¢‘</option>
            </select>
          </div>
        </div>
        
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">é¢˜æ</label>
            <select id="new-subject" class="w-full px-4 py-2 border border-gray-200 rounded-xl">
              <option value="èµ„è®¯">èµ„è®¯</option>
              <option value="æµ‹è¯„">æµ‹è¯„</option>
              <option value="é•¿æ–‡">é•¿æ–‡</option>
              <option value="ä¸ªäººåˆ†äº«">ä¸ªäººåˆ†äº«</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">çŠ¶æ€</label>
            <select id="new-status" class="w-full px-4 py-2 border border-gray-200 rounded-xl">
              <option value="å¾…åˆ›ä½œ">å¾…åˆ›ä½œ</option>
              <option value="è¿›è¡Œä¸­">è¿›è¡Œä¸­</option>
              <option value="å·²å‘å¸ƒ">å·²å‘å¸ƒ</option>
              <option value="å½’æ¡£">å½’æ¡£</option>
            </select>
          </div>
        </div>
      </div>
      
      <div class="flex gap-3 mt-6">
        <button onclick="closeModal()" class="flex-1 px-4 py-3 border border-gray-200 rounded-xl hover:bg-gray-50 cursor-pointer">å–æ¶ˆ</button>
        <button onclick="addInspiration()" class="flex-1 px-4 py-3 bg-gradient-to-r from-violet-500 to-pink-500 text-white rounded-xl font-medium cursor-pointer" id="save-btn">ä¿å­˜</button>
      </div>
    </div>
  </div>

  <script>
    // æ•°æ®å­˜å‚¨
    let inspirations = JSON.parse(localStorage.getItem('inspirations') || '[]');

    // åˆ›ä½œå»ºè®®æ¨¡æ¿
    const suggestionTemplates = {
      å°çº¢ä¹¦: {
        æ–‡å­—: {
          èµ„è®¯: ['ã€ŒXXé¢†åŸŸæœ€æ–°æ¶ˆæ¯ï¼Œ3åˆ†é’Ÿçœ‹æ‡‚ã€', 'ã€Œæ­ç§˜ï¼šXXèƒŒåçš„çœŸç›¸ã€', 'ã€Œ2024å¹´XXè¶‹åŠ¿ï¼Œä¸çœ‹åæ‚”ã€'],
          æµ‹è¯„: ['ã€ŒXXå¤©ä½¿ç”¨æ„Ÿå—ï½œçœŸå®æµ‹è¯„ã€', 'ã€ŒXXåˆ°åº•å€¼ä¸å€¼ï¼Ÿä¹°å‰å¿…çœ‹ã€', 'ã€ŒChatGPT vs Claude vs XX æ¨ªå‘æµ‹è¯„ã€'],
          é•¿æ–‡: ['ã€Œä¸€ç¯‡è®²é€XXï¼Œå»ºè®®æ”¶è—ã€', 'ã€Œæ·±åº¦ï½œXXçš„å…¨æ–¹ä½è§£è¯»ã€'],
          ä¸ªäººåˆ†äº«: ['ã€Œæ™®é€šäººXXçš„çœŸå®ç»å†ã€', 'ã€ŒXX1å¹´ï¼Œæˆ‘åæ‚”æ²¡æ—©ç‚¹çŸ¥é“ã€', 'ã€ŒèŠèŠXXè¿™ä»¶å°äº‹ã€']
        },
        è§†é¢‘: {
          èµ„è®¯: ['ã€Œ60ç§’XXå¿«è®¯ã€', 'ã€ŒXXæ–°é—»è§£è¯»ã€'],
          æµ‹è¯„: ['ã€ŒXXå¼€ç®±/æµ‹è¯„è§†é¢‘ã€', 'ã€ŒXXå¯¹æ¯”å®æµ‹ã€'],
          é•¿æ–‡: ['ã€ŒXXæ·±åº¦vlogã€', 'ã€ŒXXå…¨æ”»ç•¥ã€'],
          ä¸ªäººåˆ†äº«: ['ã€Œæˆ‘çš„XXæ—¥å¸¸volgã€', 'ã€ŒXXæŒ‘æˆ˜/ä½“éªŒè®°å½•ã€']
        }
      },
      å¾®ä¿¡: {
        æ–‡å­—: {
          èµ„è®¯: ['ã€ŒXXè§£è¯»ï¼šä¸€åœºè¡Œä¸šå˜é©ã€', 'ã€Œé‡ç£…ï½œXXæœ€æ–°æ¶ˆæ¯ã€'],
          æµ‹è¯„: ['ã€Œæ·±åº¦æµ‹è¯„ï½œXXåˆ°åº•å¥½ä¸å¥½ã€', 'ã€ŒXXæ¨ªè¯„ï¼šå“ªæ¬¾æœ€é€‚åˆä½ ã€'],
          é•¿æ–‡: ['ã€Œä¸‡å­—é•¿æ–‡ï½œXXæ·±åº¦è§£æã€', 'ã€Œä¸€æ–‡è¯»æ‡‚XXã€'],
          ä¸ªäººåˆ†äº«: ['ã€Œæˆ‘çš„XXæ•…äº‹ã€', 'ã€Œä¸€ä¸ªæ™®é€šäººçš„XXç»å†ã€']
        },
        è§†é¢‘: {
          èµ„è®¯: ['ã€ŒXXè§†é¢‘æ–°é—»ã€'],
          æµ‹è¯„: ['ã€ŒXXè§†é¢‘æµ‹è¯„ã€'],
          é•¿æ–‡: ['ã€ŒXXæ·±åº¦è®¿è°ˆ/çºªå½•ç‰‡ã€'],
          ä¸ªäººåˆ†äº«: ['ã€ŒXXäººç‰©ä¸“è®¿ã€', 'ã€Œæˆ‘çš„XXæ•…äº‹è§†é¢‘ç‰ˆã€']
        }
      },
      å…¶ä»–: {
        æ–‡å­—: {
          èµ„è®¯: ['ã€ŒXXå¿«è®¯ã€', 'ã€Œè¡Œä¸šåŠ¨æ€ï½œXXã€'],
          æµ‹è¯„: ['ã€ŒXXæµ‹è¯„ã€', 'ã€ŒXXå¯¹æ¯”ã€'],
          é•¿æ–‡: ['ã€ŒXXæ·±åº¦å¥½æ–‡ã€', 'ã€Œå…³äºXXçš„ä¸€äº›æ€è€ƒã€'],
          ä¸ªäººåˆ†äº«: ['ã€Œæˆ‘çš„XXã€', 'ã€ŒèŠèŠXXã€']
        },
        è§†é¢‘: {
          èµ„è®¯: ['ã€ŒXXè§†é¢‘å¿«è®¯ã€'],
          æµ‹è¯„: ['ã€ŒXXè§†é¢‘æµ‹è¯„ã€'],
          é•¿æ–‡: ['ã€ŒXXæ·±åº¦è§†é¢‘ã€'],
          ä¸ªäººåˆ†äº«: ['ã€ŒXX vlogã€', 'ã€ŒXXæ—¥å¸¸ã€']
        }
      }
    };

    // ç­›é€‰é…ç½®
    const filters = {
      platform: { label: 'å¹³å°', options: ['å…¨éƒ¨', 'å°çº¢ä¹¦', 'å¾®ä¿¡', 'å¾®åš', 'å³åˆ»', 'Bç«™', 'å…¶ä»–'] },
      type: { label: 'ç±»å‹', options: ['å…¨éƒ¨', 'æ–‡å­—', 'è§†é¢‘'] },
      subject: { label: 'é¢˜æ', options: ['å…¨éƒ¨', 'èµ„è®¯', 'æµ‹è¯„', 'é•¿æ–‡', 'ä¸ªäººåˆ†äº«'] },
      status: { label: 'çŠ¶æ€', options: ['å…¨éƒ¨', 'å¾…åˆ›ä½œ', 'è¿›è¡Œä¸­', 'å·²å‘å¸ƒ', 'å½’æ¡£'] }
    };

    let currentFilters = { platform: 'å…¨éƒ¨', type: 'å…¨éƒ¨', subject: 'å…¨éƒ¨', status: 'å…¨éƒ¨' };

    // åˆå§‹åŒ–
    function init() {
      renderFilters();
      renderList();
      updateStats();
    }

    // æ¸²æŸ“ç­›é€‰å™¨
    function renderFilters() {
      let html = '';
      for (const [key, config] of Object.entries(filters)) {
        html += `<div class="flex items-center gap-2">
          <span class="text-sm text-gray-500">${config.label}ï¼š</span>
          <select onchange="updateFilter('${key}', this.value)" class="px-3 py-1.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-violet-500 bg-white">
            ${config.options.map(o => `<option value="${o}" ${currentFilters[key] === o ? 'selected' : ''}>${o}</option>`).join('')}
          </select>
        </div>`;
      }
      document.getElementById('filters').innerHTML = html;
    }

    // æ›´æ–°ç­›é€‰
    function updateFilter(key, value) {
      currentFilters[key] = value;
      renderList();
    }

    // ç”Ÿæˆåˆ›ä½œå»ºè®®
    function generateSuggestions(platform, type, subject) {
      const p = suggestionTemplates[platform] ? platform : 'å…¶ä»–';
      const t = suggestionTemplates[p][type] ? type : 'æ–‡å­—';
      const s = suggestionTemplates[p][t][subject] ? subject : 'ä¸ªäººåˆ†äº«';
      return suggestionTemplates[p][t][s] || suggestionTemplates['å…¶ä»–']['æ–‡å­—']['ä¸ªäººåˆ†äº«'];
    }

    // æ¸²æŸ“åˆ—è¡¨
    function renderList() {
      const search = document.getElementById('search').value.toLowerCase();
      const list = document.getElementById('list');
      
      const filtered = inspirations.filter(item => {
        const matchesSearch = item.content.toLowerCase().includes(search);
        const matchesPlatform = currentFilters.platform === 'å…¨éƒ¨' || item.platform === currentFilters.platform;
        const matchesType = currentFilters.type === 'å…¨éƒ¨' || item.type === currentFilters.type;
        const matchesSubject = currentFilters.subject === 'å…¨éƒ¨' || item.subject === currentFilters.subject;
        const matchesStatus = currentFilters.status === 'å…¨éƒ¨' || item.status === currentFilters.status;
        return matchesSearch && matchesPlatform && matchesType && matchesSubject && matchesStatus;
      });

      if (filtered.length === 0) {
        list.innerHTML = `
          <div class="text-center py-12 text-gray-400">
            <div class="text-6xl mb-4">ğŸ’¡</div>
            <p>è¿˜æ²¡æœ‰çµæ„Ÿï¼Œå¼€å§‹è®°å½•ä½ çš„ç¬¬ä¸€ä¸ªæƒ³æ³•å§ï¼</p>
          </div>`;
        return;
      }

      list.innerHTML = filtered.map(item => `
        <div class="bg-white rounded-2xl shadow-sm overflow-hidden hover:shadow-md transition-shadow card-enter">
          <div class="p-5">
            <div class="flex flex-wrap gap-2 mb-3">
              <span class="px-3 py-1 bg-pink-100 text-pink-700 rounded-full text-sm font-medium">${item.platform}</span>
              <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">${item.type}</span>
              <span class="px-3 py-1 bg-violet-100 text-violet-700 rounded-full text-sm font-medium">${item.subject}</span>
              <span class="px-3 py-1 rounded-full text-sm font-medium ${item.status === 'å¾…åˆ›ä½œ' ? 'bg-orange-100 text-orange-700' : item.status === 'è¿›è¡Œä¸­' ? 'bg-blue-100 text-blue-700' : item.status === 'å·²å‘å¸ƒ' ? 'bg-green-100 text-green-700' : 'bg-gray-100 text-gray-700'}">${item.status}</span>
            </div>
            <p class="text-gray-800 text-lg mb-3">${item.content}</p>
            <div class="bg-gradient-to-r from-violet-50 to-pink-50 rounded-xl p-4 mb-3">
              <div class="flex items-center gap-2 mb-2">
                <span class="text-lg">ğŸ’¡</span>
                <span class="font-medium text-gray-700">åˆ›ä½œå»ºè®®</span>
              </div>
              <div class="space-y-1">
                ${item.suggestions.map(s => `<div class="text-sm text-gray-600 flex items-start gap-2"><span class="text-violet-400">â€¢</span>${s}</div>`).join('')}
              </div>
            </div>
            <div class="flex flex-wrap items-center justify-between gap-2 pt-3 border-t border-gray-100">
              <span class="text-sm text-gray-400">${item.createdAt}</span>
              <div class="flex gap-2">
                <select onchange="updateStatus('${item.id}', this.value)" class="px-3 py-1.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500 bg-white">
                  <option value="å¾…åˆ›ä½œ" ${item.status === 'å¾…åˆ›ä½œ' ? 'selected' : ''}>å¾…åˆ›ä½œ</option>
                  <option value="è¿›è¡Œä¸­" ${item.status === 'è¿›è¡Œä¸­' ? 'selected' : ''}>è¿›è¡Œä¸­</option>
                  <option value="å·²å‘å¸ƒ" ${item.status === 'å·²å‘å¸ƒ' ? 'selected' : ''}>å·²å‘å¸ƒ</option>
                  <option value="å½’æ¡£" ${item.status === 'å½’æ¡£' ? 'selected' : ''}>å½’æ¡£</option>
                </select>
                <button onclick="deleteInspiration('${item.id}')" class="px-3 py-1.5 text-red-500 hover:bg-red-50 rounded-lg text-sm transition-colors cursor-pointer">ğŸ—‘ï¸ åˆ é™¤</button>
              </div>
            </div>
          </div>
        </div>
      `).join('');
    }

    // æ›´æ–°ç»Ÿè®¡
    function updateStats() {
      document.getElementById('stat-total').textContent = inspirations.length;
      document.getElementById('stat-pending').textContent = inspirations.filter(i => i.status === 'å¾…åˆ›ä½œ').length;
      document.getElementById('stat-done').textContent = inspirations.filter(i => i.status === 'å·²å‘å¸ƒ').length;
    }

    // æ·»åŠ çµæ„Ÿ
    function addInspiration() {
      const content = document.getElementById('new-content').value.trim();
      if (!content) return;
      
      const platform = document.getElementById('new-platform').value;
      const type = document.getElementById('new-type').value;
      const subject = document.getElementById('new-subject').value;
      const status = document.getElementById('new-status').value;
      
      const id = Date.now().toString();
      const suggestions = generateSuggestions(platform, type, subject);
      
      const item = { id, content, platform, type, subject, status, suggestions, createdAt: new Date().toLocaleString('zh-CN') };
      inspirations.unshift(item);
      localStorage.setItem('inspirations', JSON.stringify(inspirations));
      
      closeModal();
      renderList();
      updateStats();
    }

    // æ›´æ–°çŠ¶æ€
    function updateStatus(id, status) {
      const item = inspirations.find(i => i.id === id);
      if (item) {
        item.status = status;
        localStorage.setItem('inspirations', JSON.stringify(inspirations));
        updateStats();
      }
    }

    // åˆ é™¤
    function deleteInspiration(id) {
      if (confirm('ç¡®å®šåˆ é™¤è¿™ä¸ªçµæ„Ÿå—ï¼Ÿ')) {
        inspirations = inspirations.filter(i => i.id !== id);
        localStorage.setItem('inspirations', JSON.stringify(inspirations));
        renderList();
        updateStats();
      }
    }

    // å¼¹çª—
    function openModal() {
      document.getElementById('modal').classList.remove('hidden');
      document.getElementById('new-content').value = '';
    }
    
    function closeModal() {
      document.getElementById('modal').classList.add('hidden');
    }

    // å¯¼å‡º
    function exportData() {
      const data = JSON.stringify(inspirations, null, 2);
      const blob = new Blob([data], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `çµæ„Ÿåº“-${new Date().toISOString().split('T')[0]}.json`;
      a.click();
    }

    // å¯¼å…¥
    function importData() {
      document.getElementById('import-file').click();
    }
    
    function handleImport(event) {
      const file = event.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const data = JSON.parse(e.target.result);
          if (Array.isArray(data)) {
            inspirations = data;
            localStorage.setItem('inspirations', JSON.stringify(inspirations));
            renderList();
            updateStats();
            alert('å¯¼å…¥æˆåŠŸï¼');
          }
        } catch (err) {
          alert('å¯¼å…¥å¤±è´¥ï¼Œæ–‡ä»¶æ ¼å¼é”™è¯¯');
        }
      };
      reader.readAsText(file);
    }

    // å¯åŠ¨
    init();
  </script>
</body>
</html>